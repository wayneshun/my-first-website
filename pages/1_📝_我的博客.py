import streamlit as st

# ==========================================
# 1. è¿™é‡Œå­˜æ”¾ä½ çš„åšå®¢æ•°æ® (ä»¥åå†™æ–°æ–‡ç« å°±åœ¨è¿™é‡ŒåŠ )
# ==========================================
posts = [
    {
        "title": "ç¬¬ä¸€ç¯‡ï¼šå…³äºæˆ˜ç•¥è§„åˆ’çš„æ€è€ƒ",
        "date": "2026-01-05",
        "summary": "è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘åˆ†äº«å…³äº CONSTRUCT æˆ˜ç•¥è§„åˆ’çš„ä¸€äº›æ·±åº¦æ€è€ƒ...",
        "content": """
        ### æ·±åº¦æ€è€ƒçš„æ­£æ–‡

        è¿™é‡Œæ˜¯æ–‡ç« çš„è¯¦ç»†å†…å®¹ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œå†™å¾ˆå¤šå¾ˆå¤šå­—ã€‚

        - è§‚ç‚¹ 1
        - è§‚ç‚¹ 2

        æˆ˜ç•¥è§„åˆ’ä¸ä»…ä»…æ˜¯ç”»å¤§é¥¼ï¼Œæ›´æ˜¯...
        (æ­¤å¤„çœç•¥ä¸€ä¸‡å­—)
        è¿™é‡Œæ˜¯æ–‡ç« çš„è¯¦ç»†å†…å®¹ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œå†™å¾ˆå¤šå¾ˆå¤šå­—ã€‚

        - è§‚ç‚¹ 1
        - è§‚ç‚¹ 2

        æˆ˜ç•¥è§„åˆ’ä¸ä»…ä»…æ˜¯ç”»å¤§é¥¼ï¼Œæ›´æ˜¯...
        (æ­¤å¤„çœç•¥ä¸€ä¸‡å­—)
        è¿™é‡Œæ˜¯æ–‡ç« çš„è¯¦ç»†å†…å®¹ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œå†™å¾ˆå¤šå¾ˆå¤šå­—ã€‚

        - è§‚ç‚¹ 1
        - è§‚ç‚¹ 2

        æˆ˜ç•¥è§„åˆ’ä¸ä»…ä»…æ˜¯ç”»å¤§é¥¼ï¼Œæ›´æ˜¯...
        (æ­¤å¤„çœç•¥ä¸€ä¸‡å­—)
        è¿™é‡Œæ˜¯æ–‡ç« çš„è¯¦ç»†å†…å®¹ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œå†™å¾ˆå¤šå¾ˆå¤šå­—ã€‚

        - è§‚ç‚¹ 1
        - è§‚ç‚¹ 2

        æˆ˜ç•¥è§„åˆ’ä¸ä»…ä»…æ˜¯ç”»å¤§é¥¼ï¼Œæ›´æ˜¯...
        (æ­¤å¤„çœç•¥ä¸€ä¸‡å­—)
        è¿™é‡Œæ˜¯æ–‡ç« çš„è¯¦ç»†å†…å®¹ã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œå†™å¾ˆå¤šå¾ˆå¤šå­—ã€‚

        - è§‚ç‚¹ 1
        - è§‚ç‚¹ 2

        æˆ˜ç•¥è§„åˆ’ä¸ä»…ä»…æ˜¯ç”»å¤§é¥¼ï¼Œæ›´æ˜¯...
        (æ­¤å¤„çœç•¥ä¸€ä¸‡å­—)
        """
    },
    {
        "title": "ç¬¬äºŒç¯‡ï¼šæˆ‘çš„èŒä¸šé€‰æ‹©",
        "date": "2026-01-15",
        "summary": "å›é¡¾è¿‡å»å‡ å¹´çš„èŒä¸šç”Ÿæ¶¯ï¼Œæˆ‘å‘ç°é€‰æ‹©æ¯”åŠªåŠ›æ›´é‡è¦...",
        "content": """
        ### èŒä¸šé€‰æ‹©çš„æ•…äº‹

        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        """
    }
{
        "title": "ç¬¬ä¸‰ç¯‡ï¼šæˆ‘çš„äººç”Ÿæ•…äº‹",
        "date": "2026-01-30",
        "summary": "å›é¡¾è¿‡å»å‡ å¹´çš„èŒä¸šç”Ÿæ¶¯ï¼Œæˆ‘å‘ç°é€‰æ‹©æ¯”åŠªåŠ›æ›´é‡è¦...",
        "content": """
        ### èŒä¸šé€‰æ‹©çš„æ•…äº‹

        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        é‚£æ˜¯ä¸€ä¸ªé£é›¨äº¤åŠ çš„å¤œæ™šï¼Œæˆ‘å†³å®šè¾èŒ...

        #### ä¸ºä»€ä¹ˆè¿™ä¹ˆé€‰ï¼Ÿ
        å› ä¸ºæˆ‘è§‰å¾— Streamlit å¾ˆæœ‰è¶£ï¼
        """
    }
]

# ==========================================
# 2. é¡µé¢é€»è¾‘æ§åˆ¶
# ==========================================

# åˆå§‹åŒ–çŠ¶æ€ï¼šå¦‚æœæ²¡æœ‰è®°å½•å½“å‰é€‰ä¸­çš„æ–‡ç« ï¼Œå°±é»˜è®¤ä¸º None (ä»£è¡¨åœ¨çœ‹åˆ—è¡¨)
if "current_post" not in st.session_state:
    st.session_state.current_post = None


# å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼šç‚¹å‡»â€œè¿”å›â€æŒ‰é’®æ—¶è°ƒç”¨
def back_to_list():
    st.session_state.current_post = None
    # ä¸éœ€è¦ st.rerun()ï¼ŒStreamlit ä¼šè‡ªåŠ¨é‡æ–°è¿è¡Œè„šæœ¬


# ==========================================
# 3. æ˜¾ç¤ºç•Œé¢
# ==========================================

# æ¨¡å¼ Aï¼šå¦‚æœå½“å‰æœ‰é€‰ä¸­çš„æ–‡ç«  -> æ˜¾ç¤ºæ­£æ–‡
if st.session_state.current_post:
    post = st.session_state.current_post

    # æ˜¾ç¤ºè¿”å›æŒ‰é’®
    if st.button("â¬…ï¸ è¿”å›æ–‡ç« åˆ—è¡¨"):
        back_to_list()
        st.rerun()  # ç«‹å³åˆ·æ–°é¡µé¢

    st.divider()

    # æ˜¾ç¤ºæ–‡ç« æ ‡é¢˜å’Œå†…å®¹
    st.title(post["title"])
    st.caption(f"å‘å¸ƒæ—¥æœŸ: {post['date']}")
    st.markdown(post["content"])

# æ¨¡å¼ Bï¼šå¦‚æœæ²¡æœ‰é€‰ä¸­çš„æ–‡ç«  -> æ˜¾ç¤ºåˆ—è¡¨
else:
    st.title("ğŸ“ è®¸å«æ ‹çš„åšå®¢")
    st.write("æ¬¢è¿æ¥åˆ°æˆ‘çš„æ€ç»´ç©ºé—´ã€‚")
    st.divider()

    # å¾ªç¯éå†æ¯ä¸€ç¯‡æ–‡ç« ï¼ŒæŠŠå®ƒä»¬ç”»å‡ºæ¥
    for i, post in enumerate(posts):
        st.subheader(post["title"])
        st.caption(f"å‘å¸ƒæ—¥æœŸ: {post['date']}")
        st.write(post["summary"])

        # æ¯ä¸ªæ–‡ç« éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„â€œé˜…è¯»å…¨æ–‡â€æŒ‰é’®
        # key=i ç¡®ä¿æ¯ä¸ªæŒ‰é’®çš„ ID ä¸ä¸€æ ·
        if st.button("é˜…è¯»å…¨æ–‡", key=i):
            st.session_state.current_post = post
            st.rerun()  # ç«‹å³åˆ·æ–°é¡µé¢è¿›å…¥é˜…è¯»æ¨¡å¼

        st.divider()  # åˆ†å‰²çº¿
